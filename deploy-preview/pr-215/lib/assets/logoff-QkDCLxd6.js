import{d as T,u as _,r as c,o as b,i as B,c as E,f as L,B as U,j as l,C as u,k as s,m as o,T as x,t as m,D as g,E as w,x as v,P as D,F,J as V,K as $,L as C,Y as M,Z as N,$ as O,a0 as H}from"./shared-Qj8Mpd_g.js";const j={key:0},I={key:1},q=700,z=T({__name:"Logoff",setup(i){const{iisBase:a}=_(),d=c(!1);b(async()=>{if(Object.keys(localStorage).filter(e=>e.includes(":data")).forEach(e=>{localStorage.removeItem(e)}),"caches"in window){const e=await caches.keys();await Promise.all(e.map(R=>caches.delete(R)))}await fetch(a+"api/auth/clear",{method:"GET",credentials:"include"}).then(e=>{if(!e.ok)throw d.value=!0,new Error(`Failed to clear authentication: ${e.statusText}`)});const t=a+"login",n=new URLSearchParams(window.location.search).get("ReturnUrl"),p=new URL(t,window.location.origin);n&&p.searchParams.set("ReturnUrl",n),window.location.href=p.href});const f=c(!1);B.then(()=>{f.value=!0});const h=c(!1);setTimeout(()=>{h.value=!0},q);const k=E(()=>f.value&&h.value);return L(()=>{k.value&&U()}),(t,n)=>(u(),l(F,null,[s(o(x),{title:t.$t("signOut.title"),forceVisible:"",hideProfileMenu:"",withBorder:""},null,8,["title"]),d.value?(u(),l("div",j,[s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(t.$t("signOut.failed",{defaultValue:"Failed to sign out. Please try again later."})),1)]),_:1})])):(u(),l("div",I,[s(o(D),{size:48}),s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(t.$t("signOut.title",{defaultValue:"Signing out"})),1)]),_:1})]))],64))}}),S=V(z,[["__scopeId","data-v-f44653d2"]]),y=$({history:C(),routes:[{path:"/:pathMatch(.*)*",redirect:"/logoff"},{path:"/logoff",component:S}]}),P=M();await _(P).fetchData();N();const r=O(H(S));r.use(P);r.use(y);r.directive("swap",(i,a)=>{i.parentNode&&(i.outerHTML=a.value)});await y.isReady();r.mount("#app");
