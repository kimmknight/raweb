import{d as k,u as _,r as c,o as b,i as E,c as L,f as U,D as x,l,E as u,m as s,p as o,T as B,x as m,G as g,H as w,z as v,P as D,F,L as M,M as O,O as V,$,a0 as H,a1 as N,a2 as C}from"./shared-Cv9EKh10.js";const z={key:0},G={key:1},I=700,j=k({__name:"Logoff",setup(i){const{iisBase:t}=_(),d=c(!1);b(async()=>{if(Object.keys(localStorage).filter(e=>e.includes(":data")).forEach(e=>{localStorage.removeItem(e)}),"caches"in window){const e=await caches.keys();await Promise.all(e.map(T=>caches.delete(T)))}await fetch(t+"api/auth/clear",{method:"GET",credentials:"include"}).then(e=>{if(!e.ok)throw d.value=!0,new Error(`Failed to clear authentication: ${e.statusText}`)});const a=t+"login",n=new URLSearchParams(window.location.search).get("ReturnUrl"),p=new URL(a,window.location.origin);n&&p.searchParams.set("ReturnUrl",n),window.location.href=p.href});const f=c(!1);E.then(()=>{f.value=!0});const h=c(!1);setTimeout(()=>{h.value=!0},I);const R=L(()=>f.value&&h.value);return U(()=>{R.value&&x()}),(a,n)=>(u(),l(F,null,[s(o(B),{title:a.$t("signOut.title"),forceVisible:"",hideProfileMenu:"",withBorder:""},null,8,["title"]),d.value?(u(),l("div",z,[s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(a.$t("signOut.failed",{defaultValue:"Failed to sign out. Please try again later."})),1)]),_:1})])):(u(),l("div",G,[s(o(D),{size:48}),s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(a.$t("signOut.title",{defaultValue:"Signing out"})),1)]),_:1})]))],64))}}),S=M(j,[["__scopeId","data-v-f44653d2"]]),y=O({history:V(),routes:[{path:"/:pathMatch(.*)*",redirect:"/logoff"},{path:"/logoff",component:S}]}),P=$();await _(P).fetchData();H();const r=N(C(S));r.use(P);r.use(y);r.directive("swap",(i,t)=>{i.parentNode&&(i.outerHTML=t.value)});await y.isReady();r.mount("#app");
