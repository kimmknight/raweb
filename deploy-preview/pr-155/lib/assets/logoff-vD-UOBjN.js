import{d as T,u as _,r as c,o as b,i as B,c as U,e as V,A as D,h as l,B as u,j as s,l as o,T as E,q as m,C as g,D as w,v,P as L,F as x,_ as C,J as F,K as M,V as N,W as O,X as $}from"./shared-X9NZhnm3.js";const H={key:0},j={key:1},A=700,I=T({__name:"Logoff",setup(i){const{iisBase:a}=_(),d=c(!1);b(async()=>{if(Object.keys(localStorage).filter(e=>e.includes(":data")).forEach(e=>{localStorage.removeItem(e)}),"caches"in window){const e=await caches.keys();await Promise.all(e.map(k=>caches.delete(k)))}await fetch(a+"api/auth/clear",{method:"GET",credentials:"include"}).then(e=>{if(!e.ok)throw d.value=!0,new Error(`Failed to clear authentication: ${e.statusText}`)});const t=a+"login",n=new URLSearchParams(window.location.search).get("ReturnUrl"),p=new URL(t,window.location.origin);n&&p.searchParams.set("ReturnUrl",n),window.location.href=p.href});const f=c(!1);B.then(()=>{f.value=!0});const h=c(!1);setTimeout(()=>{h.value=!0},A);const R=U(()=>f.value&&h.value);return V(()=>{R.value&&D()}),(t,n)=>(u(),l(x,null,[s(o(E),{title:t.$t("signOut.title"),forceVisible:"",hideProfileMenu:"",withBorder:""},null,8,["title"]),d.value?(u(),l("div",H,[s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(t.$t("signOut.failed",{defaultValue:"Failed to sign out. Please try again later."})),1)]),_:1})])):(u(),l("div",j,[s(o(L),{size:48}),s(o(v),{variant:"subtitle",tag:"h1"},{default:m(()=>[g(w(t.$t("signOut.title",{defaultValue:"Signing out"})),1)]),_:1})]))],64))}}),S=C(I,[["__scopeId","data-v-f44653d2"]]),y=F({history:M(),routes:[{path:"/:pathMatch(.*)*",redirect:"/logoff"},{path:"/logoff",component:S}]}),P=N();await _(P).fetchData();const r=O($(S));r.use(P);r.use(y);r.directive("swap",(i,a)=>{i.parentNode&&(i.outerHTML=a.value)});await y.isReady();r.mount("#app");
